import React from 'react';
import { Line } from 'react-chartjs-2';
import {
    Chart as ChartJS,
    CategoryScale,
    LinearScale,
    PointElement,
    LineElement,
    Title,
    Tooltip,
    Legend,
  } from 'chart.js';

  ChartJS.register(
    CategoryScale,
    LinearScale,
    PointElement,
    LineElement,
    Title,
    Tooltip,
    Legend
  );

  
const StockMarketChart = () => {
  // Generate labels for each month from 2010 to 2024
  const labels = [];
  for (let year = 2010; year <= 2024; year++) {
    for (let month = 1; month <= 12; month++) {
      labels.push(`${year}-${month.toString().padStart(2, '0')}`);
    }
  }

  // Helper function to generate fluctuating data
//   const generateFluctuatingData = (startValue, minChange, maxChange, totalPoints) => {
//     const data = [];
//     let currentValue = startValue;

//     for (let i = 0; i < totalPoints; i++) {
//       const randomChange = Math.floor(Math.random() * (maxChange - minChange + 1)) + minChange;
//       currentValue += randomChange;
//       data.push(currentValue);
//       console.log(data)
//     }
//     return data;
//   };

  // Simulated fluctuating data for Sensex and Nifty over 15 years (2010â€“2024)
//   const sensexData = generateFluctuatingData(18000, -500, 700, labels.length); // Sensex data with fluctuations
//   const niftyData = generateFluctuatingData(5200, -200, 300, labels.length);  // Nifty data with fluctuations

  const data = {
    labels: labels, // Monthly labels from 2010 to 2024
    datasets: [
      {
        label: 'Sensex Index',
        data: [
            17883,
            17860,
            17618,
            18049,
            17629,
            17673,
            17324,
            17116,
            17016,
            17361,
            17202,
            17209,
            17541,
            18186,
            17875,
            17536,
            17667,
            18028,
            17544,
            18045,
            17908,
            17564,
            17213,
            17142,
            17713,
            17325,
            16962,
            17434,
            17846,
            18390,
            18634,
            19014,
            19595,
            19370,
            19019,
            19165,
            19422,
            19507,
            19554,
            19687,
            19727,
            19574,
            19327,
            19315,
            19932,
            20253,
            20092,
            20684,
            20306,
            20920,
            20856,
            20665,
            20771,
            20472,
            20520,
            20042,
            20593,
            20836,
            21216,
            20755,
            20299,
            20843,
            21184,
            21083,
            21706,
            21725,
            22157,
            22535,
            22104,
            22492,
            22132,
            22294,
            22907,
            22685,
            22683,
            22643,
            22956,
            23226,
            23743,
            23359,
            23314,
            23794,
            24336,
            23908,
            24343,
            23924,
            23863,
            23756,
            24075,
            24764,
            24748,
            24973,
            25335,
            25438,
            25728,
            26409,
            26404,
            26655,
            26811,
            27502,
            28090,
            28787,
            28859,
            29121,
            29546,
            30052,
            30174,
            30088,
            30648,
            30736,
            30561,
            30168,
            30514,
            30865,
            30790,
            30601,
            31280,
            30921,
            30977,
            31260,
            31292,
            31659,
            31442,
            31757,
            31669,
            32347,
            32380,
            32753,
            32890,
            32599,
            32212,
            31751,
            31310,
            31474,
            31100,
            31379,
            31242,
            31220,
            31858,
            32377,
            32918,
            32645,
            32349,
            32720,
            32951,
            33437,
            33026,
            33258,
            33529,
            33980,
            33617,
            33696,
            33767,
            34067,
            34036,
            33830,
            33745,
            34207,
            34396,
            34145,
            33785,
            34324,
            34888,
            34692,
            34350,
            34347,
            34483,
            35031,
            35604,
            35808,
            36315,
            36008,
            35554,
            35181,
            35510,
            35854,
            35924,
            36349,
            36383,
            36465
        ],
        borderColor: '#00c0ef',
        backgroundColor: 'rgba(0, 192, 239, 0.1)',
        fill: true,
        tension: 0.3, // Smooth line curve
        pointRadius: 0, // No dots at each point
      },
      {
        label: 'Nifty Index',
        data: [
            5226,
            5058,
            5124,
            5352,
            5605,
            5724,
            5811,
            5942,
            5857,
            6125,
            6034,
            6068,
            6284,
            6557,
            6814,
            6617,
            6594,
            6470,
            6747,
            7035,
            7146,
            7368,
            7568,
            7693,
            7701,
            7871,
            7885,
            7834,
            7773,
            7670,
            7886,
            8175,
            8110,
            8300,
            8570,
            8857,
            9007,
            9139,
            9020,
            9294,
            9130,
            9292,
            9125,
            9140,
            8959,
            8857,
            9069,
            9060,
            9094,
            9289,
            9311,
            9253,
            9483,
            9311,
            9477,
            9639,
            9604,
            9868,
            10048,
            10002,
            10067,
            10339,
            10252,
            10285,
            10308,
            10332,
            10626,
            10908,
            11051,
            10891,
            11016,
            10885,
            10866,
            10831,
            11047,
            11015,
            10983,
            10879,
            10928,
            10830,
            10660,
            10653,
            10524,
            10648,
            10523,
            10413,
            10373,
            10206,
            10267,
            10401,
            10213,
            10507,
            10615,
            10621,
            10889,
            10773,
            10929,
            11064,
            11090,
            11325,
            11288,
            11378,
            11248,
            11229,
            11499,
            11613,
            11527,
            11641,
            11551,
            11620,
            11843,
            12016,
            12034,
            12004,
            12294,
            12385,
            12314,
            12303,
            12143,
            12081,
            12090,
            12146,
            12136,
            12031,
            12257,
            12408,
            12522,
            12343,
            12430,
            12243,
            12475,
            12527,
            12336,
            12560,
            12608,
            12762,
            12709,
            12638,
            12486,
            12682,
            12616,
            12640,
            12898,
            12992,
            12796,
            12969,
            12775,
            12741,
            12922,
            12871,
            12870,
            13169,
            13087,
            13136,
            13202,
            13195,
            13486,
            13536,
            13401,
            13564,
            13605,
            13736,
            13637,
            13443,
            13301,
            13157,
            13044,
            12970,
            13253,
            13159,
            13342,
            13373,
            13463,
            13604,
            13784,
            13870,
            13817,
            13854,
            13753,
            13957
        ],
        borderColor: '#f56954',
        backgroundColor: 'rgba(245, 105, 84, 0.1)',
        fill: true,
        tension: 0.3, // Smooth line curve
        pointRadius: 0, // No dots at each point
      },
    ],
  };

  const options = {
    scales: {
      x: {
        title: {
          display: true,
          text: 'Year-Month',
        },
        ticks: {
          maxTicksLimit: 15, // Adjust for better display on x-axis
        },
      },
      y: {
        title: {
          display: true,
          text: 'Index Value',
        },
        ticks: {
          callback: function (value) {
            return value.toLocaleString(); // Format numbers with commas
          },
        },
      },
    },
    plugins: {
      legend: {
        display: true,
        position: 'top',
      },
      tooltip: {
        callbacks: {
          label: function (tooltipItem) {
            return `Index Value: ${tooltipItem.raw.toLocaleString()}`;
          },
        },
      },
    },
  };

  return (
    <div className="chart-container">
      <h2>Stock Market Performance (Monthly Data 2010-2024)</h2>
      <Line data={data} options={options} />
    </div>
  );
};

export default StockMarketChart;
